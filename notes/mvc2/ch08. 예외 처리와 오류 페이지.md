## ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì˜ ì˜ˆì™¸ì²˜ë¦¬
ìŠ¤í”„ë§ì´ ì•„ë‹Œ ìˆœìˆ˜ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ì˜ˆì™¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€ ì•Œì•„ë³´ì.

ì„œë¸”ë¦¿ì€ ë‹¤ìŒ 2ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì§€ì›í•œë‹¤.
- `Exception`
- `response.sendError(HTTP ìƒíƒœì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)`

### Exception
#### ìë°” ì§ì ‘ ì‹¤í–‰
ìë°”ì˜ ë©”ì¸ ë©”ì„œë“œë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê²½ìš° `main` ì´ë¼ëŠ” ì´ë¦„ì˜ ì“°ë ˆë“œê°€ ì‹¤í–‰ëœë‹¤.

ì‹¤í–‰ ë„ì¤‘ì— ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³  ì²˜ìŒ ì‹¤í–‰í•œ `main()` ë©”ì„œë“œë¥¼ ë„˜ì–´ì„œ ì˜ˆì™¸ê°€ ë˜ì ¸ì§€ë©´, ì˜ˆì™¸ ì •ë³´ë¥¼ ë‚¨ê¸°ê³  í•´ë‹¹ ì“°ë ˆë“œëŠ” ì¢…ë£Œëœë‹¤.

#### ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ì ìš”ì²­ë³„ë¡œ ë³„ë„ì˜ ì“°ë ˆë“œê°€ í• ë‹¹ë˜ê³ , ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰ëœë‹¤.
ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí–ˆëŠ”ë°, ì–´ë””ì„ ê°€ try - catchë¡œ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì²˜ë¦¬í•˜ë©´ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ë‹¤.
ê·¸ëŸ°ë° ë§Œì•½ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³ , ì„œë¸”ë¦¿ ë°– ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ë˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

```text
WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)
```

ê²°êµ­ í†°ìº£ ê°™ì€ WAS ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ëœë‹¤. WASëŠ” ì˜ˆì™¸ê°€ ì˜¬ë¼ì˜¤ë©´ ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼ í• ê¹Œ?

í•œ ë²ˆ í…ŒìŠ¤íŠ¸ í•´ë³´ì.

### ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ í˜ì´ì§€ ë¹„í™œì„±í™”í•˜ê¸°
ë¨¼ì € ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ í˜ì´ì§€ê°€ ìˆëŠ”ë° ì´ê²ƒì€ ì¼ë‹¨ êº¼ë‘ê¸°ë¡œ í•œë‹¤.
#### [application.properties](..%2F..%2Fsrc%2Fmain%2Fresources%2Fapplication.properties)
```text 
server.error.whitelabel.enabled=false
```

#### [ServletExController.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Fcontroller%2FServletExController.java)
```java
@GetMapping("/error-ex")
public void errorEx() {
    throw new RuntimeException("ì˜ˆì™¸ ë°œìƒ!");
}
```

#### ì‹¤í–‰ ê²°ê³¼ í˜ì´ì§€
```text
HTTP Status 500 - Internal Server Error
```

tomcatì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.

ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ê°œë°œì ëª¨ë“œë¡œ í™•ì¸í•´ë³´ë©´ HTTP ìƒíƒœ ì½”ë“œê°€ 500ìœ¼ë¡œ ë³´ì¸ë‹¤.

`Exception`ì˜ ê²½ìš° ì„œë²„ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ìƒê°í•´ì„œ HTTP ìƒíƒœ ì½”ë“œ 500ì„ ë°˜í™˜í•œë‹¤.

ì´ë²ˆì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” urlë¡œ ì§„ì…í•´ë³´ì.
```text
HTTP Status 404 - Not Found
```

tomcatì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” 404 ì˜¤ë¥˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.

### response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)
ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ `HttpServletResponse`ê°€ ì œê³µí•˜ëŠ” `sendError`ë¼ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.
ì´ê²ƒì„ í˜¸ì¶œí•œë‹¤ê³  ë‹¹ì¥ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì—ê²Œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ì ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
ì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ HTTP ìƒíƒœ ì½”ë“œì™€ ì˜¤ë¥˜ ë©”ì‹œì§€ë„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

- `response.sendError(HTTP ìƒíƒœ ì½”ë“œ)`
- `response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)`

#### [ServletExController.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Fcontroller%2FServletExController.java) ë©”ì†Œë“œ ì¶”ê°€
```java
@GetMapping("/error-404")
public void error404(HttpServletResponse response) throws IOException {
    response.sendError(404, "404 ì˜¤ë¥˜!");
}

@GetMapping("/error-500")
public void error500(HttpServletResponse response) throws IOException {
    response.sendError(500);
}
```

#### sendError íë¦„
```text
WAS(sendError í˜¸ì¶œ ê¸°ë¡ í™•ì¸) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬ (response.sendError())
```

`response.sendError()`ë¥¼ í˜¸ì¶œí•˜ë©´ `response`ë‚´ë¶€ì—ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ìƒíƒœë¥¼ ì €ì¥í•´ë‘”ë‹¤.

ê·¸ë¦¬ê³  ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ê³ ê°ì—ê²Œ ì‘ë‹µ ì „ì— `response`ì— `sendError()`ê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
í˜¸ì¶œë˜ì—ˆë‹¤ë©´ ì„¤ì •í•œ ì˜¤ë¥˜ ì½”ë“œì— ë§ì¶”ì–´ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤.

### ì •ë¦¬
ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ í™”ë©´ì€ ì‚¬ìš©ìê°€ ë³´ê¸°ì— ë¶ˆí¸í•˜ë‹¤.

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í™”ë©´ ì œê³µ
ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ í™”ë©´ì€ ê³ ê° ì¹œí™”ì ì´ì§€ ì•Šë‹¤.
ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ í™”ë©´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì.

ì„œë¸”ë¦¿ì€ `Exception`ì´ ë°œìƒí•´ì„œ ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” `response.sendError()`ê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ê°ê°ì˜ ìƒí™©ì— ë§ì¶˜ ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì¹œì ˆí•œ ì˜¤ë¥˜ ì²˜ë¦¬ í™”ë©´ì„ ì¤€ë¹„í•´ì„œ ê³ ê°ì—ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.

ê³¼ê±°ì—ëŠ” `web.xml`ì´ë¼ëŠ” íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ ì˜¤ë¥˜ í™”ë©´ì„ ë“±ë¡í–ˆì—ˆë‹¤.
```xml
<web-app>
      <error-page>
        <error-code>404</error-code>
        <location>/error-page/404.html</location>
      </error-page>
      <error-page>
        <error-code>500</error-code>
        <location>/error-page/500.html</location>
      </error-page>
      <error-page>
        <exception-type>java.lang.RuntimeException</exception-type>
        <location>/error-page/500.html</location>
      </error-page>
</web-app>
```

ì§€ê¸ˆì€ ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ í†µí•´ì„œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì—, ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ ì„œë¸”ë¦¿ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë“±ë¡í•˜ë©´ ëœë‹¤.

### ì„œë¸”ë¦¿ ì˜¤ë¥˜ í˜ì´ì§€ ë“±ë¡
#### [WebServerCustomizer.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2FWebServerCustomizer.java) 
```java
@Override
public void customize(ConfigurableWebServerFactory factory) {
    ErrorPage errorPage404 = new ErrorPage(HttpStatus.NOT_FOUND, "/error-page/400");
    ErrorPage errorPage500 = new ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR, "/error-page/500");
    ErrorPage errorPageEx = new ErrorPage(RuntimeException.class, "/error-page/500");
    
    factory.addErrorPages(errorPage404, errorPage500, errorPageEx);
}
```

ì˜¤ë¥˜ í˜ì´ì§€ëŠ” ì˜ˆì™¸ë¥¼ ë‹¤ë£° ë•Œ í•´ë‹¹ ì˜ˆì™¸ì™€ ê·¸ ìì‹ íƒ€ì´ì˜ ì˜¤ë¥˜ë¥¼ í•¨ê»˜ ì²˜ë¦¬í•œë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ì„œ ìœ„ì˜ ê²½ìš° `RuntimeException`ì€ ë¬¼ë¡ ì´ê³  `RuntimeException`ì˜ ìì‹ë„ í•¨ê»˜ ì²˜ë¦¬í•œë‹¤.

ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš”í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ `RuntimeException` ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ `errorPageEx`ì—ì„œ ì§€ì •í•œ `/error-page/500`ì´ í˜¸ì¶œëœë‹¤.

#### [ErrorPageController.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Fcontroller%2FErrorPageController.java) 
```java
@RequestMapping("/error-page/400")
public String errorPage404(HttpServletRequest request, HttpServletResponse response) {
    log.info("errorPage 404");
    return "error-page/404";
}

@RequestMapping("/error-page/400")
public String errorPage500(HttpServletRequest request, HttpServletResponse response) {
    log.info("errorPage 500");
    return "error-page/500";
}
```

#### [404.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror-page%2F404.html) ì¶”ê°€
#### [500.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror-page%2F500.html) ì¶”ê°€

#### í…ŒìŠ¤íŠ¸
- http://localhost:8080/error-page/404
- http://localhost:8080/error-page/500

ì„¤ì •í•œ ì˜¤ë¥˜ í˜ì´ì§€ê°€ ì •ìƒ ë…¸ì¶œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.


## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í˜ì´ì§€ ì‘ë™ ì›ë¦¬
ì„œë¸”ë¦¿ì€ `Exception`ì´ ë°œìƒí•´ì„œ ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” `response.sendError()`ê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ì„¤ì •í•œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì°¾ëŠ”ë‹¤.
### ì˜ˆì™¸ ë°œìƒ íë¦„
```text
WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)
```

### sendError íë¦„
```text
WAS(sendError í˜¸ì¶œ ê¸°ë¡ í™•ì¸) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬ (response.sendError())
```

WASëŠ” í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.
```java
new ErrorPage(RuntimeException.class, "/error-page/500");
```

ì˜ˆë¥¼ ë“¤ì–´ì„œ `RuntimeException`ì´ WASê¹Œì§€ ì „ë‹¬ë˜ë©´, WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.
ì˜¤ë¥˜ í˜ì´ì§€ë¡œ `/error-page/500`ì´ ì§€ì •ë˜ì–´ ìˆë‹¤. WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ `/error-page/500`ì„ ë‹¤ì‹œ ìš”ì²­í•œë‹¤.

### ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„
```text
WAS `/error-page/500` ë‹¤ì‹œ ìš”ì²­ â¡ï¸ í•„í„° â¡ï¸ ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„° â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/ 500) â¡ï¸ View
```

### ì˜ˆì™¸ ë°œìƒê³¼ ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„
```text
1. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)
2. WAS `/error-page/500` ë‹¤ì‹œ ìš”ì²­ â¡ï¸ í•„í„° â¡ï¸ ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„° â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(/error- page/500) â¡ï¸ View
```

**ì¤‘ìš”í•œ ì ì€ ì›¹ ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ ë‚´ë¶€ì—ì„œ ì´ëŸ° ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì „í˜€ ëª¨ë¥¸ë‹¤ëŠ” ì ì´ë‹¤. ì˜¤ì§ ì„œë²„ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ í˜¸ì¶œì„ í•œë‹¤.**

ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ì˜ˆì™¸ê°€ ë°œìƒí•´ì„œ WASê¹Œì§€ ì „íŒŒëœë‹¤.
2. WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¥¼ ì°¾ì•„ì„œ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ë•Œ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¡œ í•„í„°, ì„œë¸”ë¦¿, ì¸í„°ì…‰í„°, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ëª¨ë‘ ë‹¤ì‹œ í˜¸ì¶œëœë‹¤.

### ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€
WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ìš”ì²­í•¨ê³¼ ë™ì‹œì— ì˜¤ë¥˜ ì •ë³´ë¥¼ `request`, `attribute`ì— ì¶”ê°€í•´ì„œ ë„˜ê²¨ì¤€ë‹¤.

í•„ìš”í•œ ì˜¤ë¥˜ í˜ì´ì§€ì—ì„œ ì´ë ‡ê²Œ ì „ë‹¬ëœ ì˜¤ë¥˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### [ErrorPageController.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Fcontroller%2FErrorPageController.java) 
```java
//RequestDispatcher ìƒìˆ˜ë¡œ ì •ì˜ë˜ì–´ ìˆìŒ
public static final String ERROR_EXCEPTION = "javax.servlet.error.exception";
public static final String ERROR_EXCEPTION_TYPE = "javax.servlet.error.exception_type";
public static final String ERROR_MESSAGE = "javax.servlet.error.message";
public static final String ERROR_REQUEST_URI = "javax.servlet.error.request_uri";
public static final String ERROR_SERVLET_NAME = "javax.servlet.error.servlet_name";
public static final String ERROR_STATUS_CODE = "javax.servlet.error.status_code";

@RequestMapping("/error-page/404")
public String errorPage404(HttpServletRequest request, HttpServletResponse response) {
    log.info("errorPage 404");
    printErrorInfo(request);
    return "error-page/404";
}

@RequestMapping("/error-page/500")
public String errorPage500(HttpServletRequest request, HttpServletResponse response) {
    log.info("errorPage 500");
    printErrorInfo(request);
    return "error-page/500";
}

private void printErrorInfo(HttpServletRequest request) {
    log.info("ERROR_EXCEPTION: {}", request.getAttribute(ERROR_EXCEPTION));
    log.info("ERROR_EXCEPTION_TYPE: {}", request.getAttribute(ERROR_EXCEPTION_TYPE));
    log.info("ERROR_MESSAGE: {}", request.getAttribute(ERROR_MESSAGE));
    log.info("ERROR_REQUEST_URI: {}", request.getAttribute(ERROR_REQUEST_URI));
    log.info("ERROR_SERVLET_NAME: {}", request.getAttribute(ERROR_SERVLET_NAME));
    log.info("ERROR_STATUS_CODE: {}", request.getAttribute(ERROR_STATUS_CODE));
    log.info("dispatchType={}", request.getDispatcherType());
}
```

##### request.attributeì— ì„œë²„ê°€ ë‹´ì•„ì¤€ ì •ë³´
- `javax.servlet.error.exception` : ì˜ˆì™¸
- `javax.servlet.error.exception_type` : ì˜ˆì™¸ íƒ€ì…
- `javax.servlet.error.message` : ì˜¤ë¥˜ ë©”ì‹œì§€ 
- `javax.servlet.error.request_uri` : í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ URI
- `javax.servlet.error.servlet_name` : ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì„œë¸”ë¦¿ ì´ë¦„ 
- `javax.servlet.error.status_code` : HTTP ìƒíƒœ ì½”ë“œ

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - í•„í„°
### ëª©í‘œ
ì˜ˆì™¸ ì²˜ë¦¬ì— ë”°ë¥¸ í•„í„°ì™€ ì¸í„°ì…‰í„° ê·¸ë¦¬ê³  ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” `DispatchType` ì´í•´í•˜ê¸°

### ì˜ˆì™¸ ë°œìƒê³¼ ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ íë¦„
```text
1. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)
2. WAS ë‹¤ì‹œ ìš”ì²­ â¡ï¸ í•„í„° â¡ï¸ ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„° â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬ â¡ï¸ View
```

ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ WAS ë‚´ë¶€ì—ì„œ ë‹¤ì‹œ í•œ ë²ˆ í˜¸ì¶œì´ ë°œìƒí•œë‹¤.
ì´ë•Œ í•„í„°, ì¸í„°ì…‰í„°ë„ ëª¨ë‘ ë‹¤ì‹œ í˜¸ì¶œëœë‹¤.
ê·¸ëŸ°ë° ë¡œê·¸ì¸ ì¸ì¦ ì²´í¬ ê°™ì€ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ë©´, ì´ë¯¸ í•œ ë²ˆ í•„í„°ë‚˜, ì¸í„°ì…‰í„°ì—ì„œ ë¡œê·¸ì¸ ì²´í¬ë¥¼ ì™„ë£Œí–ˆë‹¤.
ë”°ë¼ì„œ ì„œë²„ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•  ë•Œ ë‹¤ì‹œ í˜¸ì¶œë˜ëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤.

ê²°êµ­ í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ë°œìƒí•œ ì •ìƒ ìš”ì²­ì¸ì§€, ì•„ë‹ˆë©´ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•œ ë‚´ë¶€ ìš”ì²­ì¸ì§€ êµ¬ë¶„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
ì„œë¸”ë¦¿ì€ ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `DispatcherType`ì´ë¼ëŠ” ì¶”ê°€ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.

### DispatcherType
í•„í„°ëŠ” ì´ëŸ° ê²½ìš°ë¥¼ ìœ„í•´ì„œ `dispatcherTypes`ë¼ëŠ” ì˜µì…˜ì„ ì œê³µí•œë‹¤.

ì´ì „ ê°•ì˜ì˜ ë§ˆì§€ë§‰ì— ë‹¤ìŒ ë¡œê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤.
```java
log.info("dispatcherType={}", request.getDispatcherType());
```
ê·¸ë¦¬ê³  ì¶œë ¥í•´ë³´ë©´ ì˜¤ë¥˜ í˜ì´ì§€ì—ì„œ `dispatcherType=ERROR`ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ê³ ê°ì´ ì²˜ìŒ ìš”ì²­í•˜ë©´ `dispatcherType=REQUEST`ì´ë‹¤.

ê·¸ë ‡ë“¯ ì„œë¸”ë¦¿ ìŠ¤í™ì€ ì‹¤ì œ ê³ ê°ì´ ìš”ì²­í•œ ê²ƒì¸ì§€, ì„œë²„ê°€ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ëŠ” ê²ƒì¸ì§€ `DispatcherType`ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.

#### javax.servlet.DispatcherType
```java
public enum DispatcherType {
    FORWARD,
    INCLUDE,
    REQUEST,
    ASYNC,
    ERROR
}
```

- FORWARD: ì„œë¸”ë¦¿ì—ì„œ ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPë¥¼ í˜¸ì¶œí•  ë•Œ `(RequestDispatcher.forward(request, response));`
- INCLUDE: ì„œë¸”ë¦¿ì—ì„œ ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPì˜ ê²°ê³¼ë¥¼ í¬í•¨í•  ë•Œ `(RequestDispatcher.include(request, response));`
- REQUEST: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
- ASYNC  : ì„œë¸”ë¦¿ ë¹„ë™ê¸° í˜¸ì¶œ
- error  : ì˜¤ë¥˜ ìš”ì²­

### í•„í„°ì™€ DispatcherType
#### [LogFilter.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Ffilter%2FLogFilter.java) doFilterì— request.getDispatcherType() ì¶”ê°€
```java
@Override
public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {
    HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;
    String requestURI = httpRequest.getRequestURI();

    String uuid = UUID.randomUUID().toString();

    try {
        log.info("REQUEST  [{}][{}][{}]", uuid, servletRequest.getDispatcherType(), requestURI);
        filterChain.doFilter(servletRequest, servletResponse);
    } catch (Exception e) {
        throw e;
    } finally {
        log.info("RESPONSE [{}][{}][{}]", uuid, servletRequest.getDispatcherType(), requestURI);
    }
}
```

```text
filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST, DispatcherType.ERROR);
```
ì´ë ‡ê²Œ ë‘ ê°€ì§€ë¥¼ ëª¨ë‘ ë„£ìœ¼ë©´ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì€ ë¬¼ë¡ ì´ê³ , ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ì—ì„œë„ í•„í„°ê°€ í˜¸ì¶œëœë‹¤.
ì•„ë¬´ê²ƒë„ ë„£ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ê°’ì´ `DispatcherType.REQUEST`ì´ë‹¤. ì¦‰ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ í•„í„°ê°€ ì ìš©ëœë‹¤.
íŠ¹ë³„íˆ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¡œ í•„í„°ë¥¼ ì ìš©í•  ê²ƒì´ ì•„ë‹ˆë©´, ê¸°ë³¸ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ë¬¼ë¡  ì˜¤ë¥˜ í˜ì´ì§€ ìš”ì²­ ì „ìš© í•„í„°ë¥¼ ì ìš©í•˜ê³  ì‹¶ìœ¼ë©´ `DispatcherType.ERROR`ë§Œ ì§€ì •í•˜ë©´ ëœë‹¤.

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì¸í„°ì…‰í„°
#### [LogInterceptor.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2Fweb%2Finterceptor%2FLogInterceptor.java) preHandle(), afterCompletion() ìˆ˜ì •
```java
@Override
public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
    String requestURI = request.getRequestURI();

    String uuid = UUID.randomUUID().toString();
    request.setAttribute(LOG_ID, uuid);

    // @RequestMapping: HandlerMethod
    // ì •ì  ë¦¬ì†ŒìŠ¤: ResourceHttpRequestHandler
    if (handler instanceof HandlerMethod) {
        HandlerMethod hm = (HandlerMethod) handler; // í˜¸ì¶œí•  ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì˜ ëª¨ë“  ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.
    }

    log.info("REQUEST  [{}][{}][{}][{}]", uuid, request.getDispatcherType(), requestURI, handler);
    return true;
}

@Override
public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {
    String requestURI = request.getRequestURI();

    String logId = (String) request.getAttribute(LOG_ID);
    log.info("RESPONSE [{}][{}][{}]", logId, request.getDispatcherType(), requestURI);

    if (ex != null) {
        log.error("afterCompletion error!!", ex);
    }
}
```

í•„í„°ì˜ ê²½ìš°ì—ëŠ” í•„í„°ë¥¼ ë“±ë¡í•  ë•Œ ì–´ë–¤ `DispatcherType`ì¸ ê²½ìš°ì— í•„í„°ë¥¼ ì ìš©í•  ì§€ ì„ íƒí•  ìˆ˜ ìˆì—ˆë‹¤.
ê·¸ëŸ°ë° ì¸í„°ì…‰í„°ëŠ” ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹Œ, ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. 
ë”°ë¼ì„œ `DispatcherType`ê³¼ ë¬´ê´€í•˜ê²Œ í•­ìƒ í˜¸ì¶œëœë‹¤.

í•˜ì§€ë§Œ, ì¸í„°ì…‰í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­ ê²½ë¡œì— ë”°ë¼ì„œ ì¶”ê°€í•˜ê±°ë‚˜ ì œì™¸í•˜ê¸° ì‰½ê¸°ì— ì´ëŸ¬í•œ ì„¤ì •ì„ ì‚¬ìš©í•´ì„œ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œë¥¼ `excludePathPatterns`ë¥¼ ì‚¬ìš©í•´ì„œ ë¹¼ì£¼ë©´ ëœë‹¤.

####  [WebConfig.java](..%2F..%2Fsrc%2Fmain%2Fjava%2Fhello%2Fitemservice%2FWebConfig.java) logFilter(), addInterceptors() ìˆ˜ì •
```java
public FilterRegistrationBean logFilter() {
    FilterRegistrationBean<Filter> filterRegistrationBean = new FilterRegistrationBean<>();
    filterRegistrationBean.setFilter(new LogFilter());
    filterRegistrationBean.setOrder(1);
    filterRegistrationBean.addUrlPatterns("/*");
    filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST, DispatcherType.ERROR);
    return filterRegistrationBean;
}

@Override
public void addInterceptors(InterceptorRegistry registry) {
    registry.addInterceptor(new LogInterceptor())
            .order(1)
            .addPathPatterns("/**")
            .excludePathPatterns("/css/**", "/*.ico", "/error");

    registry.addInterceptor(new LoginCheckInterceptor())
            .order(2)
            .addPathPatterns("/**")
            .excludePathPatterns("/", "/members/add", "/login", "/logout", "/css/**", "/*.ico", "/error", "/error-page/**");
}
```

#### ì „ì²´ íë¦„ ì •ë¦¬
##### `/hello` ì •ìƒ ìš”ì²­
```text
WAS(/hello, dispatcherType=REQUEST) â¡ï¸í•„í„° â¡ï¸ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„° â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬  â¡ï¸ VIEW
```

##### `/error-ex` ì˜¤ë¥˜ ìš”ì²­
- í•„í„°ëŠ” `DispatcherType`ìœ¼ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±° (`dispatcherType=REQUEST')
- ì¸í„°ì…‰í„°ëŠ” ê²½ë¡œ ì •ë³´ë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±° (`excludePathPatterns("/error-page/**"))
```text
1. WAS(/error-ex, dispatchType=REQUEST) â¡ï¸ í•„í„° â¡ï¸ ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„° â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬
2. WAS(ì—¬ê¸°ê¹Œì§€ ì „íŒŒ) â¬…ï¸ í•„í„° â¬…ï¸ ì„œë¸”ë¦¿ â¬…ï¸ ì¸í„°ì…‰í„° â¬…ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(ì˜ˆì™¸ë°œìƒ)
3. WAS ì˜¤ë¥˜ í˜ì´ì§€ í™•ì¸
4. WAS(/error-page/500, dispatchType=ERROR) â¡ï¸ í•„í„°(x) â¡ï¸ ì„œë¸”ë¦¿ â¡ï¸ ì¸í„°ì…‰í„°(x) â¡ï¸ ì»¨íŠ¸ë¡¤ëŸ¬(/error-page/500) â¡ï¸ View
```

### ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€
ì§€ê¸ˆê¹Œì§€ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë³µì¡í•œ ê³¼ì •ì„ ê±°ì³¤ë‹¤.
- `WebServerCustomizer`ë¥¼ ë§Œë“¤ê³ 
- ì˜ˆì™¸ ì¢…ë¥˜ì— ë”°ë¼ì„œ `ErrorPage`ë¥¼ ì¶”ê°€í•˜ê³ 
- ì˜ˆì™¸ ì²˜ë¦¬ìš© ì»¨íŠ¸ë¡¤ëŸ¬ `ErrorPageController`ë¥¼ ìƒì„±í–ˆë‹¤.

**ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì´ ëª¨ë“  ê³¼ì •ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•œë‹¤.**
- `ErrorPage`ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤. ì´ë•Œ `/error`ë¼ëŠ” ê²½ë¡œë¡œ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì„¤ì •í•œë‹¤.
  - `new ErrorPage("/error")`, ìƒíƒœ ì½”ë“œì™€ ì˜ˆì™¸ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¡œ ì‚¬ìš©ëœë‹¤.
  - ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±°ë‚˜, `response.sendError(...)`ê°€ í˜¸ì¶œë˜ë©´ ëª¨ë“  ì˜¤ë¥˜ëŠ” `/error`ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.
- `BasicErrorController`ë¼ëŠ” ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤.
  - `ErrorPage`ì—ì„œ ë“±ë¡í•œ `/error`ë¥¼ ë§¤í•‘í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì´ë‹¤.

> ğŸ€ `ErrorMvcAutoConfiguration` í´ë˜ìŠ¤ê°€ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ì—­í• ì„ í•œë‹¤.

> ğŸš¨ ì£¼ì˜  
> ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜¤ë¥˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ë„ë¡ `WebServerCustomizer`ì— ìˆëŠ” `@Component`ë¥¼ ì£¼ì„ì²˜ë¦¬ í•˜ì.  
> ì´ì œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì˜¤ë¥˜ í˜ì´ì§€ë¡œ `/error`ë¥¼ ê¸°ë³¸ ìš”ì²­í•œë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ìë™ ë“±ë¡í•œ `BasicErrorController`ëŠ” ì´ ê²½ë¡œë¥¼ ê¸°ë³¸ìœ¼ë¡œ ë°›ëŠ”ë‹¤.

#### ê°œë°œìëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë§Œ ë“±ë¡
`BasicErrorController`ëŠ” ê¸°ë³¸ì ì¸ ë¡œì§ì´ ëª¨ë‘ ê°œë°œë˜ì–´ ìˆë‹¤.

ê°œë°œìëŠ” ì˜¤ë¥˜ í˜ì´ì§€ í™”ë©´ë§Œ `BasicErrorController`ê°€ ì œê³µí•˜ëŠ” ë£°ê³¼ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ë“±ë¡í•˜ë©´ ëœë‹¤.
ì •ì  HTMLì´ë©´ ì •ì  ë¦¬ì†ŒìŠ¤, ë·° í…œí”Œë¦¿ì„ ì‚¬ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ì˜¤ë¥˜ í™”ë©´ì„ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´ ë·° í…œí”Œë¦¿ ê²½ë¡œì— ì˜¤ë¥˜ í˜ì´ì§€ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë„£ì–´ë‘ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

#### ë·° ì„ íƒ ìš°ì„ ìˆœìœ„
`BasicErrorController`ì˜ ì²˜ë¦¬ ìˆœì„œ
1. ë·° í…œí”Œë¦¿
   - `resources/templates/error/500.html`
   - `resources/templates/error/5xx.html`
2. ì •ì  ë¦¬ì†ŒìŠ¤(`static`, `public`)
   - `resources/static/error/400.html`
   - `resources/static/error/4xx.html`
3. ì ìš© ëŒ€ìƒì´ ì—†ì„ ë•Œ ë·° ì´ë¦„(`error`)
   - `resources/templates/error.html`

í•´ë‹¹ ê²½ë¡œì— HTTP ìƒíƒœ ì½”ë“œ ì´ë¦„ì˜ ë·° íŒŒì¼ì„ ë„£ì–´ë‘ë©´ ëœë‹¤.

ë·° í…œí”Œë¦¿ì´ ì •ì  ë¦¬ì†ŒìŠ¤ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ê³ , 404, 500 ì²˜ëŸ¼ êµ¬ì²´ì ì¸ ê²ƒì´ 5xx ì²˜ëŸ¼ ëœ êµ¬ì²´ì ì¸ ê²ƒ ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.

5xx, 4xx ë¼ê³  í•˜ë©´ 500ëŒ€, 400ëŒ€ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•´ì¤€ë‹¤.

### ì˜¤ë¥˜ ë·° í…œí”Œë¦¿ ì¶”ê°€
- [4xx.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror%2F4xx.html)
    ```html
    <!DOCTYPE HTML>
    <html xmlns:th="http://www.thymeleaf.org" lang="ko">
    <head>
        <meta charset="utf-8">
        <title>4xx ì˜¤ë¥˜ í˜ì´ì§€</title>
    </head>
    <body>
    <div class="container" style="max-width: 600px">
        <div class="py-5 text-center">
            <h2>4xx ì˜¤ë¥˜ í™”ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì œê³µ</h2> </div>
        <div>
            <p>ì˜¤ë¥˜ í™”ë©´ ì…ë‹ˆë‹¤.</p>
        </div>
        <hr class="my-4">
    </div> <!-- /container -->
    </body>
    </html>
    ```
- [404.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror%2F404.html)
- [500.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror%2F500.html)

### BasicErrorControllerê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì •ë³´
`BasicErrorController`ëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ modelì— ë‹´ì•„ì„œ ë·°ì— ì „ë‹¬í•œë‹¤. ë·° í…œí”Œë¦¿ì€ ì´ ê°’ì„ í™œìš©í•´ì„œ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.
```text
* timestamp: Fri Feb 05 00:00:00 KST 2021
* status: 400
* error: Bad Request
* exception: org.springframework.validation.BindException * trace: ì˜ˆì™¸ trace
* message: Validation failed for object='data'. Error count: 1 * errors: Errors(BindingResult)
* path: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ê²½ë¡œ (`/hello`)
```
#### ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€
- [500.html](..%2F..%2Fsrc%2Fmain%2Fresources%2Ftemplates%2Ferror%2F500.html)
    ```html
    <!DOCTYPE HTML>
    <html xmlns:th="http://www.thymeleaf.org" lang="ko">
    <head>
        <meta charset="utf-8">
        <title>500 ì˜¤ë¥˜ í˜ì´ì§€</title>
    </head>
    <body>
    <div class="container" style="max-width: 600px">
        <div class="py-5 text-center">
            <h2>500 ì˜¤ë¥˜ í™”ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì œê³µ</h2> </div>
        <div>
            <p>ì˜¤ë¥˜ í™”ë©´ ì…ë‹ˆë‹¤.</p>
        </div> <ul>
        <li>ì˜¤ë¥˜ ì •ë³´</li> <ul>
        <li th:text="|timestamp: ${timestamp}|"></li>
        <li th:text="|path: ${path}|"></li>
        <li th:text="|status: ${status}|"></li>
        <li th:text="|message: ${message}|"></li>
        <li th:text="|error: ${error}|"></li>
        <li th:text="|exception: ${exception}|"></li>
        <li th:text="|errors: ${errors}|"></li>
        <li th:text="|trace: ${trace}|"></li>
    </ul>
        </li> </ul>
        <hr class="my-4">
    </div> <!-- /container -->
    </body>
    </html>
    ```
- ì¶œë ¥ ê²°ê³¼
    ```text
    timestamp: Sat Apr 13 23:55:56 KST 2024
    path: /error-500
    status: 500
    message:
    error: Internal Server Error
    exception: null
    errors: null
    trace: null
    ```
ì˜¤ë¥˜ ê´€ë ¨ ë‚´ë¶€ ì •ë³´ëŠ” ê³ ê°ì—ì— ë…¸ì¶œí•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤. 
ê·¸ë˜ì„œ `BasicErrorController` ì˜¤ë¥˜ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë‹¤ìŒ ì˜¤ë¥˜ ì •ë³´ë¥¼ `model`ì— í¬í•¨í• ì§€ ì—¬ë¶€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

#### [application.properties](..%2F..%2Fsrc%2Fmain%2Fresources%2Fapplication.properties)
```properties
server.error.include-exception=true
server.error.include-message=never
server.error.include-stacktrace=never
server.error.include-binding-errors=never
```
- server.error.include-exception: `exception` í¬í•¨ ì—¬ë¶€ (`true`, `false`)
- server.error.include-message: `message` í¬í•¨ ì—¬ë¶€
- server.error.include-stacktrace: `trace` í¬í•¨ ì—¬ë¶€
- server.error.include-binding-errors= `errors` í¬í•¨ ì—¬ë¶€

##### ê¸°ë³¸ ê°’ì´ `never`ì¸ ë¶€ë¶„ì˜ ì˜µì…˜
- `never`: ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- `always`: í•­ìƒ ì‚¬ìš©í•¨
- `on_param`: íŒŒë¼ë¯¸í„°ê°€ ìˆì„ ë•Œ ì‚¬ìš©

`on_param`ì€ íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì •ë³´ë¥¼ ë…¸ì¶œí•œë‹¤. ë””ë²„ê·¸ ì‹œ ë¬¸ì œë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê·¸ëŸ°ë° ì´ ë¶€ë¶„ë„ ê°œë°œ ì„œë²„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ìš´ì˜ ì„œë²„ì—ì„œëŠ” ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.

`on_param`ìœ¼ë¡œ ì„¤ì •í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ HTTP ìš”ì²­ ì‹œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ì •ë³´ë“¤ì´ `model`ì— ë‹´ê²¨ì„œ ë·° í…œí”Œë¦¿ì— ì¶œë ¥ëœë‹¤.
`message=&errors=&trace=`   

ğŸš¨ **ì‹¤ë¬´ì—ì„œëŠ” ì´ê²ƒë“¤ì„ ë…¸ì¶œí•˜ë©´ ì•ˆëœë‹¤. ì‚¬ìš©ìì—ê²Œ ì´ìœ ì˜¤ë¥˜ í™”ë©´ê³¼ ê³ ê°ì´ ì´í•´í•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ê³ 
ì˜¤ë¥˜ëŠ” ì„œë²„ì— ë¡œê·¸ë¡œ ë‚¨ê²¨ì„œ í™•ì¸í•´ì•¼ í•œë‹¤.**

### ìŠ¤í”„ë§ ë¶€íŠ¸ ì˜¤ë¥˜ ê´€ë ¨ ì˜µì…˜
- `server.error.whitelabel.enabled=true` : ì˜¤ë¥˜ ì²˜ë¦¬ í™”ë©´ì„ ëª» ì°¾ì„ ì‹œ, ìŠ¤í”„ë§ `whitelabel` ì˜¤ë¥˜ í˜ì´ì§€ ì ìš©
- `server.error.path=/error` : ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œ, ìŠ¤í”„ë§ì´ ìë™ ë“±ë¡í•˜ëŠ” ì„œë¸”ë¦¿ ê¸€ë¡œë²Œ ì˜¤ë¥˜ í˜ì´ì§€ ê²½ë¡œì™€ `BasicErrorController` ì˜¤ë¥˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê²½ë¡œì— í•¨ê»˜ ì‚¬ìš©ëœë‹¤.

### í™•ì¥ í¬ì¸íŠ¸
ì—ëŸ¬ ê³µí†µ ì²˜ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê¸°ëŠ¥ì„ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´ `ErrorController` ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì† ë°›ì•„ì„œ êµ¬í˜„í•˜ê±°ë‚˜ `BasicErrorController` ìƒì† ë°›ì•„ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤.

## ì •ë¦¬
ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ í™œìš©í•˜ë©´ ì˜¤ë¥˜ í˜ì´ì§€ì™€ ê´€ë ¨ëœ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œëŠ” ì†ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

