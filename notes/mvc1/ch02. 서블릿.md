## `Jar` VS `War`
- Jarì™€ WarëŠ” ëª¨ë‘ ìë°” í´ë˜ìŠ¤ íŒ¨í‚¤ì§• í™•ì¥ìë¡œ **í”„ë¡œì íŠ¸ë¥¼ ë°°í¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.**
- JarëŠ” JDK(Java Development Kit)ì— í¬í•¨ëœ JRE(Java RuntimeEnvironment)ë§Œ ìˆìœ¼ë©´ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë‹¤.
- WarëŠ” ì›¹ ì—í”Œë¦¬ì¼€ì´ì…˜ ì „ìš© íŒ¨í‚¤ì§•ìœ¼ë¡œ `WEB-INF`, `META-INF`ë¡œ ì‚¬ì „ ì •ì˜ëœ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ Warë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ì›¹ ì„œë²„ ë˜ëŠ” WASê°€ í•„ìš”í•˜ë‹¤.

## ì„œë¸”ë¦¿
### ìŠ¤í”„ë§ ë¶€íŠ¸ ì„œë¸”ë¦¿ í™˜ê²½ êµ¬ì„±
`@ServletComponentScan`: ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì„œë¸”ë¦¿ì„ ì§ì ‘ ë“±ë¡í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
@ServletComponentScan
@SpringBootApplication
public class ServletApplication {
    
    public static void main(String[] args) {
	    SpringApplication.run(ServletApplication.class, args);
    }
}
```

### ì„œë¸”ë¦¿ ë“±ë¡í•˜ê¸°
```java
@WebServlet(name = "helloServlet", urlPatterns = "/hello")
public class HelloServlet extends HttpServlet {
    
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        
        System.out.println("HelloServlet.service");
        System.out.println("request = " + request);
        System.out.println("response = " + response);
        
        String username = request.getParameter("username");
        
        System.out.println("username = " + username);
        response.setContentType("text/plain");
        response.setCharacterEncoding("utf-8");
        response.getWriter().write("hello " + username);
    }
}
```
`@WebServlet`: ì„œë¸”ë¦¿ ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ, `name` ì—ëŠ” ì„œë¸”ë¦¿ì˜ ì´ë¦„ì„ ë„£ê³  `urlPatterns` ì—ëŠ” URL mapping ì •ë³´ë¥¼ ë„£ëŠ”ë‹¤.  
HTTP ìš”ì²­ì„ í†µí•´ ë§¤í•‘ëœ URLì´ í˜¸ì¶œë˜ë©´ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.  
```java
protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { ... }
```

#### ì½˜ì†” ì‹¤í–‰ ê²°ê³¼
```text
HelloServlet.service
request = org.apache.catalina.connector.RequestFacade@5e4e72
response = org.apache.catalina.connector.ResponseFacade@37d112b6
username = world
```

#### HTTP ìš”ì²­ ë©”ì‹œì§€ ë¡œê·¸ë¡œ í™•ì¸í•˜ê¸°
`application.properties`ì— ë‹¤ìŒ ì„¤ì •ì„ ì¶”ê°€í•œë‹¤.
```text
logging.level.org.apache.coyoete.http11=debug
```

## ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ë™ì‘ ë°©ì‹
![ë‚´ì¥ í†°ìº£ ì„œë²„ ìƒì„±.png](imgs%2F%EB%82%B4%EC%9E%A5%20%ED%86%B0%EC%BA%A3%20%EC%84%9C%EB%B2%84%20%EC%83%9D%EC%84%B1.png)
1. ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ë‚´ì¥ í†°ìº£ ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤.
2. ë‚´ì¥ í†°ìº£ ì„œë²„ëŠ” ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì— `helloServlet` ì„ ìƒì„±í•œë‹¤.
3. ì›¹ ë¸Œë¼ìš°ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ ë©”ì‹œì§€ë¥¼ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì— ì „ì†¡í•œë‹¤.
![HTTP ìš”ì²­, ì‘ë‹µ ë©”ì‹œì§€.png](imgs%2FHTTP%20%EC%9A%94%EC%B2%AD%2C%20%EC%9D%91%EB%8B%B5%20%EB%A9%94%EC%8B%9C%EC%A7%80.png)
4. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ëŠ” **HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ request, response ê°ì²´ë¥¼ ë§Œë“¤ê³ , helloServlet ì„ ì‹¤í–‰í•œë‹¤.**
5. helloServlet ì—ì„œëŠ” **response ê°ì²´ë¥¼ ë³€ê²½í•œë‹¤.**
6. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ëŠ” ë³€ê²½ëœ response ê°ì²´ ì •ë³´ë¡œ HTTP ì‘ë‹µì„ ìƒì„±í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— ì „ì†¡í•œë‹¤.
![ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì˜ ìš”ì²­ ì‘ë‹µ êµ¬ì¡°.png](imgs%2F%EC%9B%B9%20%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%20%EC%84%9C%EB%B2%84%EC%9D%98%20%EC%9A%94%EC%B2%AD%20%EC%9D%91%EB%8B%B5%20%EA%B5%AC%EC%A1%B0.png)

## HttpServletRequest
### ì—­í• 
- HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ ê°œë°œìê°€ ì§ì ‘ íŒŒì‹±í•´ì„œ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ ë§¤ìš° ë¶ˆí¸í•  ê²ƒì´ë‹¤. **ì„œë¸”ë¦¿ì€ ê°œë°œìê°€ HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡
HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ íŒŒì‹±í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ ê²°ê³¼ë¥¼ `HttpServletRequest` ê°ì²´ì— ë‹´ì•„ì„œ ì œê³µ**í•œë‹¤.

#### HTTP ìš”ì²­ ë©”ì‹œì§€
```text
POST /save HTTP/1.1
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded

username=MELT&age=30
```
- START LINE (POST)
  - HTTP ë©”ì†Œë“œ
  - URL
  - ì¿¼ë¦¬ ìŠ¤íŠ¸ë§
  - ìŠ¤í‚¤ë§ˆ, í”„ë¡œí† ì½œ
- í—¤ë” (Host, Content-Type)
  - í—¤ë” ì¡°íšŒ
- ë°”ë”” (username=MELT&age=30)
  - form íŒŒë¼ë¯¸í„° í˜•ì‹ ì¡°íšŒ
  - message body ë°ì´í„° ì§ì ‘ ì¡°íšŒ  

`HttpServletRequest` ê°ì²´ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë¶€ê°€ ê¸°ëŠ¥ë„ í•¨ê»˜ ì œê³µí•œë‹¤.

### ë¶€ê°€ ê¸°ëŠ¥
#### ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥
- í•´ë‹¹ HTTP ìš”ì²­ì´ ì‹œì‘ë¶€í„° ëë‚  ë•Œê¹Œì§€ ìœ ì§€ë˜ëŠ” ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥
  - ì €ì¥: `request.setAttribute(name, value)`
  - ì¡°íšŒ: `request.getAttribute(name)`
#### ì„¸ì…˜ ê´€ë¦¬ ê¸°ëŠ¥
- `request.getSession(create: true)`

### ê¸°ë³¸ ì‚¬ìš©ë²•
```java
// http://localhost:8080/request-header?username=hello
@WebServlet(name = "requestHeaderServlet", urlPatterns = "/request-header")
public class RequestHeaderServlet extends HttpServlet {
    
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        
        printStartLine(request);
        printHeaders(request);
        printHeaderUtils(request);
        printEtc(request);
        
        response.getWriter().write("ok");
    }

    private void printStartLine(HttpServletRequest request) {
        System.out.println("--- REQUEST-LINE - start ---");

        System.out.println("request.getMethod() = " + request.getMethod()); //GET
        System.out.println("request.getProtocal() = " + request.getProtocol()); //    HTTP/1.1
        System.out.println("request.getScheme() = " + request.getScheme()); //http
        // http://localhost:8080/request-header
        System.out.println("request.getRequestURL() = " + request.getRequestURL());
        // /request-test
        System.out.println("request.getRequestURI() = " + request.getRequestURI());
        //username=hi
        System.out.println("request.getQueryString() = " + request.getQueryString());
        System.out.println("request.isSecure() = " + request.isSecure()); //https ì‚¬ìš© ìœ ë¬´
        System.out.println("--- REQUEST-LINE - end ---");
        System.out.println();
    }

    private void printHeaders(HttpServletRequest request) {
        System.out.println("--- Headers - start ---");
    
        /*
        Enumeration<String> headerNames = request.getHeaderNames();
        while (headerNames.hasMoreElements()) {
        String headerName = headerNames.nextElement();
        System.out.println(headerName + ": " + request.getHeader(headerName));
        }
        */

        request.getHeaderNames().asIterator().forEachRemaining(headerName -> System.out.println(headerName + ":" + request.getHeader(headerName)));
        System.out.println("--- Headers - end ---");
        System.out.println();
    }

    private void printHeaderUtils(HttpServletRequest request) {
        System.out.println("--- Header í¸ì˜ ì¡°íšŒ start ---");
        System.out.println("[Host í¸ì˜ ì¡°íšŒ]");
        System.out.println("request.getServerName() = " + request.getServerName()); //Host í—¤ë”
        System.out.println("request.getServerPort() = " + request.getServerPort()); //Host í—¤ë”
        System.out.println();

        System.out.println("[Accept-Language í¸ì˜ ì¡°íšŒ]");
        request.getLocales().asIterator()
                .forEachRemaining(locale -> System.out.println("locale = " + locale));
        System.out.println("request.getLocale() = " + request.getLocale());
        System.out.println();

        System.out.println("[cookie í¸ì˜ ì¡°íšŒ]");
        if (request.getCookies() != null) {
            for (Cookie cookie : request.getCookies()) {
                System.out.println(cookie.getName() + ": " + cookie.getValue());
            }
        }
        System.out.println();
        System.out.println("[Content í¸ì˜ ì¡°íšŒ]");
        System.out.println("request.getContentType() = " + request.getContentType());
        System.out.println("request.getContentLength() = " + request.getContentLength());
        System.out.println("request.getCharacterEncoding() = " + request.getCharacterEncoding());
        System.out.println("--- Header í¸ì˜ ì¡°íšŒ end ---");
        System.out.println();
    }

    private void printEtc(HttpServletRequest request) {
        System.out.println("--- ê¸°íƒ€ ì¡°íšŒ start ---");
        System.out.println("[Remote ì •ë³´]");
        System.out.println("request.getRemoteHost() = " + request.getRemoteHost()); //
        System.out.println("request.getRemoteAddr() = " + request.getRemoteAddr()); //
        System.out.println("request.getRemotePort() = " + request.getRemotePort()); //
        System.out.println();

        System.out.println("[Local ì •ë³´]");
        System.out.println("request.getLocalName() = " + request.getLocalName()); //
        System.out.println("request.getLocalAddr() = " + request.getLocalAddr()); //
        System.out.println("request.getLocalPort() = " + request.getLocalPort()); //\

        System.out.println("--- ê¸°íƒ€ ì¡°íšŒ end ---");
        System.out.println();
    }
}
```
#### ê²°ê³¼
```text
--- REQUEST-LINE - start ---
request.getMethod() = GET
request.getProtocal() = HTTP/1.1
request.getScheme() = http
request.getRequestURL() = http://localhost:8080/request-header
request.getRequestURI() = /request-header
request.getQueryString() = username=hello
request.isSecure() = false
--- REQUEST-LINE - end ---

--- Headers - start ---
host: localhost:8080
connection: keep-alive
cache-control: max-age=0
sec-ch-ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"
sec-ch-ua-mobile: ?0
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_0) AppleWebKit/537.36
(KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/
webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
sec-fetch-site: none
sec-fetch-mode: navigate
sec-fetch-user: ?1
sec-fetch-dest: document
accept-encoding: gzip, deflate, br
accept-language: ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7
--- Headers - end ---

--- Header í¸ì˜ ì¡°íšŒ start ---
[Host í¸ì˜ ì¡°íšŒ]
request.getServerName() = localhost
request.getServerPort() = 8080
[Accept-Language í¸ì˜ ì¡°íšŒ]
locale = ko
locale = en_US
locale = en
locale = ko_KR
request.getLocale() = ko
[cookie í¸ì˜ ì¡°íšŒ]
[Content í¸ì˜ ì¡°íšŒ]
request.getContentType() = null
request.getContentLength() = -1
request.getCharacterEncoding() = UTF-8
--- Header í¸ì˜ ì¡°íšŒ end ---

--- ê¸°íƒ€ ì¡°íšŒ start ---
[Remote ì •ë³´]
request.getRemoteHost() = 0:0:0:0:0:0:0:1
request.getRemoteAddr() = 0:0:0:0:0:0:0:1
request.getRemotePort() = 54305
[Local ì •ë³´]
request.getLocalName() = localhost
request.getLocalAddr() = 0:0:0:0:0:0:0:1
request.getLocalPort() = 8080
--- ê¸°íƒ€ ì¡°íšŒ end ---
```

> ğŸ€ ê¸°íƒ€ ì •ë³´ëŠ” HTTP ë©”ì‹œì§€ì˜ ì •ë³´ëŠ” ì•„ë‹ˆë‹¤.  

## HTTP ìš”ì²­ ë°ì´í„°
### ê°œìš”
HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•
1. `Get` - ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°: `/url?username=hello&age=20`
   - ë©”ì‹œì§€ ë°”ë”” ì—†ì´ URL ì˜ ì»¤ë¦¬ íŒŒë¼ë¯¸í„°ì— ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ì „ë‹¬í•œë‹¤. 
   - ê²€ìƒ‰, í•„í„°, í˜ì´ì§• ë“±ì—ì„œ ë§ì´ ì‚¬ìš©í•œë‹¤.
2. `POST` - HTML Form: `content-type:application/x-www-form-urlencoded`
   - ë©”ì‹œì§€ ë°”ë””ì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
   - íšŒì› ê°€ì…, ìƒí’ˆ ì£¼ë¬¸, HTML Form ì‚¬ìš©
3. `HTTP message body` ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­í•˜ëŠ” ë°©ë²•
   - HTTP API ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. JSON, XML, TEXT

### GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
#### ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¡°íšŒ ë©”ì„œë“œ
```java
String username = request.getParameter("username"); //ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ
Enumeration<String> parameterNames = request.getParameterNames(); //íŒŒë¼ë¯¸í„° ì´ë¦„ë“¤ ëª¨ë‘ ì¡°íšŒ
Map<String, String[]> parameterMap = request.getParameterMap(); //íŒŒë¼ë¯¸í„°ë¥¼ Map ìœ¼ë¡œ ì¡°íšŒ
String[] usernames = request.getParameterValues("username"); //ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ
```

#### RequestParamServlet
```java
/**
* 1. íŒŒë¼ë¯¸í„° ì „ì†¡ ê¸°ëŠ¥
* http://localhost:8080/request-param?username=hello&age=20
* <p>
* 2. ë™ì¼í•œ íŒŒë¼ë¯¸í„° ì „ì†¡ ê°€ëŠ¥
* http://localhost:8080/request-param?username=hello&username=kim&age=20
*/
@WebServlet(name = "requestParamServlet", urlPatterns = "/request-param")
public class RequestParamServlet extends HttpServlet {
    
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        
        System.out.println("[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - start");
        
        /*
        Enumeration<String> parameterNames = request.getParameterNames();
        while (parameterNames.hasMoreElements()) {
          String paramName = parameterNames.nextElement();
          System.out.println(paramName + "=" + request.getParameter(paramName));
        }
        */
        
        request.getParameterNames().asIterator()
            .forEachRemaining(paramName -> System.out.println(paramName + "=" + request.getParameter(paramName)));
        System.out.println("[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - end");
        System.out.println();
        
        System.out.println("[ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ]");
        String username = request.getParameter("username");
        System.out.println("request.getParameter(username) = " + username);
        
        String age = request.getParameter("age");
        System.out.println("request.getParameter(age) = " + age);
        System.out.println();
        
        System.out.println("[ì´ë¦„ì´ ê°™ì€ ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ]");
        System.out.println("request.getParameterValues(username)");
        String[] usernames = request.getParameterValues("username");
        for (String name : usernames) {
	        System.out.println("username=" + name);
        }
        
	    resp.getWriter().write("ok");
    }
}
```

##### ê²°ê³¼
```text
[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - start
username=hello
age=20
[ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ] - end

[ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ]
request.getParameter(username) = hello
request.getParameter(age) = 20

[ì´ë¦„ì´ ê°™ì€ ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ]
request.getParameterValues(username)
username=hello
username=kim
```

### POST HTML Form
ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¡°íšŒ ë©”ì„œë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.  
í´ë¼ì´ì–¸íŠ¸(ì›¹ ë¸Œë¼ìš°ì €) ì…ì¥ì—ì„œëŠ” ë‘ ë°©ì‹ì— ì°¨ì´ê°€ ìˆì§€ë§Œ ì„œë²„ ì…ì¥ì—ì„œëŠ” ë™ì¼í•˜ë¯€ë¡œ `request.getParameter()`ë¡œ êµ¬ë¶„ì—†ì´ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.
> ğŸ€ content-typeì€ HTTP ë©”ì‹œì§€ ë°”ë””ì˜ ë°ì´í„° í˜•ì‹ì„ ì§€ì •í•œë‹¤.  
> `GET URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°` í˜•ì‹ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” HTTP ë©”ì‹œì§€ ë°”ë””ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— content-typeì´ ì—†ë‹¤.   
> `POST HTML Form` í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©´ HTTP ë©”ì‹œì§€ ë°”ë””ì— í•´ë‹¹ ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ë³´ë‚´ê¸° ë•Œë¬¸ì— ë°”ë””ì— í¬í•¨ëœ ë°ì´í„°ê°€ ì–´ë–¤ í˜•ì‹ì¸ì§€
> content-typeì„ ê¼­ ì§€ì •í•´ì•¼ í•œë‹¤.  
> ì´ë ‡ê²Œ í¼ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” í˜•ì‹ì„ `application/x-www-form-urlencoded` ë¼ í•œë‹¤.

### API ë©”ì‹œì§€ ë°”ë””
```java
@WebServlet(name = "requestBodyStringServlet", urlPatterns = "/request-bodystring")
public class RequestBodyStringServlet extends HttpServlet {
    
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {
        
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);
        
        System.out.println("messageBody = " + messageBody);
        response.getWriter().write("ok");
    }
}
```

> ğŸ€ inputStreamì€ byte ì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤. byte ì½”ë“œë¥¼ ìš°ë¦¬ê°€ ì½ì„ ìˆ˜ ìˆëŠ” ë¬¸ì(String)ë¡œ ë³´ë ¤ë©´ ë¬¸ìí‘œ (Charset)ë¥¼ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. ì—¬ê¸°ì„œëŠ” UTF_8 Charsetì„ ì§€ì •í•´ì£¼ì—ˆë‹¤.

### JSON í˜•ì‹ íŒŒì‹± ì¶”ê°€
```java
@Getter @Setter
public class HelloData {
    private String username;
    private int age;
}
```

```java
/**
* http://localhost:8080/request-body-json
*
* JSON í˜•ì‹ ì „ì†¡
* content-type: application/json
* message body: {"username": "hello", "age": 20}
*
*/
@WebServlet(name = "requestBodyJsonServlet", urlPatterns = "/request-bodyjson")
public class RequestBodyJsonServlet extends HttpServlet {
    
	private ObjectMapper objectMapper = new ObjectMapper();

    @Override
	protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        
        ServletInputStream inputStream = request.getInputStream();
        String messageBody = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);

        System.out.println("messageBody = " + messageBody);

        HelloData helloData = objectMapper.readValue(messageBody, HelloData.class);
        System.out.println("helloData.username = " + helloData.getUsername());
        System.out.println("helloData.age = " + helloData.getAge());

        response.getWriter().write("ok");
    }
}
```

#### ì¶œë ¥ ê²°ê³¼
```text
messageBody={"username": "hello", "age": 20}
data.username=hello
data.age=20
```

> ğŸ€  JSON ê²°ê³¼ë¥¼ íŒŒì‹±í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë°” ê°ì²´ë¡œ ë³€í™˜í•˜ë ¤ë©´ Jackson, Gson ê°™ì€ JSON ë³€í™˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 
> ìŠ¤í”„ë§ ë¶€íŠ¸ë¡œ Spring MVCë¥¼ ì„ íƒí•˜ë©´ ê¸°ë³¸ìœ¼ë¡œ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬( ObjectMapper )ë¥¼ í•¨ê»˜ ì œê³µí•œë‹¤. 
> HTML form ë°ì´í„°ë„ ë©”ì‹œì§€ ë°”ë””ë¥¼ í†µí•´ ì „ì†¡ë˜ë¯€ë¡œ ì§ì ‘ ì½ì„ ìˆ˜ ìˆë‹¤. 
> í•˜ì§€ë§Œ í¸ë¦¬í•œ íŒŒë¦¬ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥( request.getParameter(â€¦) )ì„ ì´ë¯¸ ì œê³µí•˜ê¸° ë•Œë¬¸ì— íŒŒë¼ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.